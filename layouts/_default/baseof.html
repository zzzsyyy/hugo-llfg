<!DOCTYPE html>
<html lang='{{ .Site.LanguageCode | default "zh" }}'>
{{- partial "head" . -}}

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const acl = document.querySelectorAll('.post-toc li a');
        acl.forEach(function (link) {
            link.addEventListener('click', function (event) {
                event.preventDefault();

                const targetId = link.getAttribute('href');
                const targetElement = document.querySelector(targetId);

                if (targetElement) {
                    const headerHeight = document.querySelector('header').offsetHeight; // 根据实际情况获取页眉高度
                    const targetOffset = targetElement.getBoundingClientRect().top + window.pageYOffset - headerHeight;

                    window.scrollTo({ top: targetOffset, behavior: 'smooth' });
                }
            });
        });
    });
    setTimeout(() => {
        history.replaceState('', document.title, window.location.origin + window.location.pathname + window.location.search)
    }, 5);
</script>

<body>
    {{- partial "header" . -}}
    {{- block "main" . }}{{- end }}
    {{- partial "footer" . -}}
    {{ if .IsPage }}
    {{- partial "btop" . -}}
    {{ end }}
</body>

</html>
